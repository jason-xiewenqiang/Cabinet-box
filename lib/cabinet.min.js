!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Cabinet=t():e.Cabinet=t()}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var n=i(1);t.default=function(e){return new n.default({parent:e?document.querySelector(e):window})}},function(e,t,i){"use strict";i.r(t);var n=i(2),r=i.n(n),o=i(3),s=i.n(o),a=function(){function e(t){r()(this,e),this.parent=t.parent,this.scene=new THREE.Scene,this.scene.position.set(0,-40,10),this.camera=this.initCamera(t.parent),this.canControl=!1,this.particle=null,this.particles=[],this.AMOUNTX=100,this.AMOUNTY=80,this.SEPARATION=60,this.count=0,this.dev=t&&t.dev,this.initLight(),this.initRenderer(t.parent),this.initWave(),this.render(),this.animationID=this.animate(),window.addEventListener("resize",this.onResize.bind(this,t.parent),!1)}return s()(e,[{key:"destroyed",value:function(){window.cancelAnimationFrame(this.animationID),this.scene=null,this.camera=null,this.particle=null,this.particles=[],this.dircLight=null,this.dev=null,window.removeEventListener("resize",(function(){})),this.parent&&this.parent.removeChild(this.renderer.domElement),this.renderer=null}},{key:"initCamera",value:function(e){var t=e?e.offsetWidth:window.innerWidth,i=e?e.offsetHeight:window.innerHeight,n=new THREE.PerspectiveCamera(45,t/i,1,1e4);return n.position.set(0,30,200),n}},{key:"initLight",value:function(){this.dircLight=new THREE.DirectionalLight(16777215),this.dircLight.position.set(300,400,200),this.scene.add(this.dircLight);var e=new THREE.HemisphereLight(12403,169879,.75);e.position.set(.5,1,.75),this.scene.add(e)}},{key:"initRenderer",value:function(e){var t=e?e.offsetWidth:window.innerWidth,i=e?e.offsetHeight:window.innerHeight;this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(t,i),this.renderer.setClearColor("#003879"),e?e.appendChild(this.renderer.domElement):document.body.appendChild(this.renderer.domElement)}},{key:"initWave",value:function(){for(var e=2*Math.PI,t=new THREE.PointCloudMaterial({color:"#02d7e8",program:function(t){t.beginPath(),t.arc(0,0,16,0,e),t.fill()}}),i=0,n=0;n<this.AMOUNTX;n++)for(var r=0;r<this.AMOUNTY;r++)this.particle=this.particles[i++]=new THREE.Sprite(t),this.particle.position.x=n*this.SEPARATION-this.AMOUNTX*this.SEPARATION/2,this.particle.position.z=r*this.SEPARATION-this.AMOUNTY*this.SEPARATION/2,this.scene.add(this.particle)}},{key:"render",value:function(){if(TWEEN.update(),this.particle){for(var e=0,t=0;t<this.AMOUNTX;t++)for(var i=0;i<this.AMOUNTY;i++)this.particle=this.particles[e++],this.particle.position.y=50*Math.sin(.3*(t+this.count))+50*Math.sin(.5*(i+this.count))-100,this.particle.scale.x=this.particle.scale.y=2*(Math.sin(.3*(t+this.count))+1)+2*Math.sin(.5*(i+this.count)+1);this.count+=.1,this.renderer.render(this.scene,this.camera)}}},{key:"onResize",value:function(e){var t=e?e.offsetWidth:window.innerWidth,i=e?e.offsetHeight:window.innerHeight;this.camera.aspect=t/i,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,i)}},{key:"animate",value:function(){return this.render(),window.requestAnimationFrame(this.animate.bind(this))}}]),e}();t.default=a},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}]).default}));